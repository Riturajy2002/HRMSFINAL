<body>
	<div class="container-fluid">
		<div class="row">
			<div class="top-part">
				<div class="logo">
					<img src="assets/img/logo.png" alt="logo" class="img-fluid">
				</div>
				<div class="user-name">{{userData.username}}</div>

				<!-- User Function Dropdown -->
				<div class="user-function dropdown" ng-controller="leaveRequestFormDashboardController">
					<div class="user-icon " ng-click="toggleDropdown()">
						<img src="assets/img/user.png" alt="User Icon">
					</div>
					<ul class="dropdown-menu custom-dropdown-menu"
						ng-class="{'show': isDropdownVisible}">
						<li><a class="dropdown-item" ng-click="toggleUserDashboard()">Dashboard</a></li>
						<li><a class="dropdown-item" ng-click = "openProfileModal()">Profile</a></li>
						<li><a class="dropdown-item" ng-click="logout()">Logout</a></li>
					</ul>
				</div>
			</div>
		</div>


		<!-- Modal Profile-->
		<div class="modal fade" id="profileModal" data-bs-backdrop="static"
			tabindex="-1" aria-labelledby="profileModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h1 class="modal-title fs-5" id="profileModalLabel">Profile
							Details</h1>
						<button type="button" class="btn-close" data-bs-dismiss="modal"
							aria-label="Close" ng-click="closeProfileModal()"></button>
					</div>
					<div class="modal-body">
						<div class="profile-details">
							<div class="row">
								<div class="col-lg-12 prohd">
									<h6>Employee ID:</h6>
									<span>{{ userData.id }}</span>
								</div>
								<div class="col-lg-12 prohd">
									<h6>Name:</h6>
									<span>{{ userData.username }}</span>
								</div>
								<div class="col-lg-12 prohd">
									<h6>Designation:</h6>
									<span>{{ userData.designation }} </span>
								</div>
								<div class="col-lg-12 prohd">
									<h6>Email ID:</h6>
									<span> {{ userData.email_id }} </span>
								</div>
								<div class="col-lg-12 prohd">
									<h6>Contact No:</h6>
									<span> {{ userData.contactNo }} </span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>


		<!-- Attendance Update Section-->
		<div class="row">
			<div class="col-lg-12 attendance-hd web-hd">Attendance Status</div>
			<div class="col-lg-3">
				<div class="mb-3">
					<label for="formFile" class="form-label">Upload Attendance
						Excel File</label>
					<div class="uploadfile">
						<input class="form-control" type="file" id="formFile"
							file-model="file" accept=".xls,.xlsx">
						<button type="submit" ng-click="uploadExcel()"
							class="btn btn-primary">Submit</button>
					</div>
				</div>
			</div>
		</div>


		<!-- Attendance Download Section-->
		<div class="row">
			<div class="col-lg-12">
				<div class="row align-items-center attendance-tab">
					<div class="web-hd col-lg-7">Monthly Status Report</div>
					<div class="col-lg-2 mb-2 mb-lg-0">
						<select id="SelectMonth" class="form-select"
							ng-model="selectedMonth"
							ng-options="month.name for month in months track by month.value"
							required>
							<option value="" disabled selected>Select Month</option>
						</select>
					</div>
					<div class="col-lg-2 mb-2 mb-lg-0">
						<select id="SelectYear" class="form-select"
							ng-model="selectedYear" ng-options="year for year in years"
							required>
							<option value="" disabled selected>Select Year</option>
						</select>
					</div>
					<div class="col-lg-1">
						<div class="download" ng-click="downloadReport()">
							<span>Download</span> <i class="ph-bold ph-download-simple"></i>
						</div>
					</div>
				</div>
			</div>
		</div>



		<!-- Attendance View Section-->
		<div class="row">
			<div class="col-lg-12">
				<div class="table-responsive">
					<table class="table table-bordered custom-table">
						<thead class="table-light">
							<tr>
								<th>Emp ID</th>
								<th>Emp Name</th>
								<th>Present-Days(Total)</th>
								<th>Absent-Days(Total)</th>
								<th>Leave-Taken-Days(Total)</th>
								<th>Average-Working-Hours</th>
								<th>Year Month</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="record in filteredData">
								<td>{{record.empId}}</td>
								<td>{{record.empName}}</td>
								<td>{{record.totalPresentDays}}</td>
								<td>{{record.totalAbsentDays}}</td>
								<td>{{record.totalLeavetakenDays}}</td>
								<td>{{record.averageWorkingHours}}</td>
								<td>{{record.reportYearMonth}}</td>
							</tr>
						</tbody>
					</table>
					<!-- End Attendance View Section-->


					<div class="pagination-box mb-3">
						<nav aria-label="Page navigation example">
							<ul class="pagination mb-0">
								<li class="page-item" ng-class="{disabled: currentPage === 1}">
									<a class="page-link" href="#" aria-label="Previous"
									ng-click="$event.preventDefault(); changePage(currentPage - 1)">
										<span aria-hidden="true">&laquo;</span></a>
								</li>
								<li class="page-item"
									ng-repeat="n in [].constructor(totalPages) track by $index"
									ng-class="{active: $index + 1 === currentPage}"><a
									class="page-link" href="#"
									ng-click="$event.preventDefault(); changePage($index + 1)">
										{{$index + 1}} </a></li>
								<li class="page-item"
									ng-class="{disabled: currentPage === totalPages}"><a
									class="page-link" href="#" aria-label="Next"
									ng-click="$event.preventDefault(); changePage(currentPage + 1)">
										<span aria-hidden="true">&raquo;</span>
								</a></li>
							</ul>
						</nav>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
	<script src="https://res.cloudinary.com/dxfq3iotg/raw/upload/v1569006273/BBBootstrap/choices.min.js?version=7.0.0"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>